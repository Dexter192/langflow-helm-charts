# Default values for langflow.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

postgresql:
  enabled: false

enableTls: false

autoscaling:
  enabled: false

imagePullSecrets: []
nameOverride: "langflow"
fullnameOverride: "langflow"

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

securityContext: {}
  # capabilities:
  #   drop:
  #   - ALL
  # readOnlyRootFilesystem: true
  # runAsNonRoot: true
  # runAsUser: 1000

ingress:
  enabled: false
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: chart-example.local
      paths: []
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

# Define the storage class for GCP storage
# default_storage:
#  provisioner: "kubernetes.io/gce-pd"
#  type: "pd-standard"
#  fsType: "ext4"
#  extraParams: {}
# Define the storage class for AWS storage
default_storage:
  provisioner: "kubernetes.io/aws-ebs"
  type: "gp2"
  fsType: "ext4"

langflow: 
  backend:
    replicaCount: 1
    service:
      type: ClusterIP
      port: 7860
    backendOnly: true
    numWorkers: 1
    image:
      repository: langflowai/langflow-backend
      pullPolicy: IfNotPresent
      tag: ""
    resources:
      limits:
        cpu: 1000m
        memory: 1.5Gi
      requests:
        cpu: 250m
        memory: 768Mi
    probe:
      failureThreshold: 3
      periodSeconds: 10
      timeoutSeconds: 5
      initialDelaySeconds: 5
    env: []
    nodeSelector: {}


    tolerations: []

    affinity: {}
    podAnnotations:
      prometheus.io/scrape: "true"
      prometheus.io/port: "9090"
      prometheus.io/path: "/metrics"

    podSecurityContext: {}


    persistence:
      enabled: false      
      type: "disk"
      # enable persistent volume with sqlite
      volume:
        size: "1Gi"
        storageClass:  
          provisioner: "kubernetes.io/aws-ebs"
          type: "gp2"
          fsType: "ext4"
          extraParams: {}
      
  

  frontend:
    enabled: true
    replicaCount: 1
    service:
      type: ClusterIP
      port: 80
    image:
      repository: langflowai/langflow-frontend
      pullPolicy: IfNotPresent
      tag: ""
    image:
      repository: langflowai/langflow-backend
      pullPolicy: IfNotPresent
      tag: ""
    resources:
      limits:
        cpu: 250m
        memory: 768Mi
      requests:
        cpu: 250m
        memory: 768Mi
    probe:
      failureThreshold: 3
      periodSeconds: 10
      timeoutSeconds: 5
      initialDelaySeconds: 5
    nodeSelector: {}

    tolerations: []

    affinity: {}
    podAnnotations: {}
    podSecurityContext: {}

secretProvider:
  enabled: false
